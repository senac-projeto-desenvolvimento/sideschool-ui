<!DOCTYPE html>
<html>
    <head>
        <title>SideSchool</title>
        <meta charset="uft-8" />
        <link rel="stylesheet" href="css/main.css"/>
        <link rel="stylesheet" href="css/spinner.css"/>
        <link rel="stylesheet" href="css/homework-details.css"/>
        <link rel="stylesheet" href="css/bootstrap/bootstrap.css" />
        <script src="js/bootstrap/bootstrap.js"></script>
        <script src="js/homeworkDetail.js"></script>
        <script src="js/points.js"></script>
        <script src="js/homeworkResult.js"></script>
    </head>
</html>
<body>
    <nav id="header" class="navbar navbar-light bg-primary" style="height: 150px;">
        <span class="navbar-brand mb-0 h1" style="font-family: Roboto; font-size: 82px; color: #959595;">Atividade</span>
        <ul id="pontos">
            <li><img src="images/gem.png" alt="Moeda" width="70" height="70">
                <a id="coins">
                    <div class="spinner-border" style="width: 5rem; height: 5rem; align-items: center;" role="status"></div>
                </a>
            </li>
            <li><img src="images/crown.png" alt="Pontos" width="70" height="70">
                <a id="points">
                    <div class="spinner-border" style="width: 5rem; height: 5rem; align-items: center;" role="status"></div>
                </a>
            </li>
        </ul>
    </nav>

    <div id="main-content">
        <div id="loading-spinner" class="d-flex justify-content-center show-loading">
            <div class="spinner-border" style="width: 5rem; height: 5rem; align-items: center;" role="status"></div>
        </div>
        <form method="post" onchange="changeInput()">
            <ul id="question-list">
            </ul>
            <input onclick="submitHomework()" type="submit" id="homework-submit" value="Enviar resposta">
        </form>
    </div>
    
    <nav class="navbar-bottom">
        <ul class="menu">
            <li><a href="home_estudante.html"><img src="images/casa.png" alt="Inicio" width="100" height="100"></a></li>
            <li><a href="ranking.html"><img src="images/aplicativo-de-planilha.png" alt="Ranking" width="100" height="100"></a></li>
            <li><a href="loja.html"><img src="images/compras.png" alt="Loja" width="100" height="100"></a></li>
            <li><a href="perfil.html"><img src="images/definicoes.png" alt="Configurações" width="100" height="100"></a></li>
        </ul>
    </nav>
    <script>
        getResults().then(function(result){
            if(result.status == 500) {
                loadHomework();
                loadStudentPoints();
            }
            else {
                const homeworkId = window.location.search.split('?homeworkId=')[1];
                window.location = `atividade_resultado.html?homeworkId=${homeworkId}`;
            }
        })
    </script>
</body>